.zen-mode-overlay {
  @apply bg-black/50 backdrop-blur-sm;
}

.zen-mode-content {
  @apply w-full sm:w-[90vw] sm:max-w-3xl outline-none;
  // Mobile: use dvh to respond to virtual keyboard
  height: 100dvh;
  animation: scaleIn 0.2s ease-out;

  @media (min-width: 640px) {
    height: 85vh;
  }

  .zen-mode-editor {
    @apply w-full h-full flex flex-col border-none rounded-none sm:rounded-xl shadow-2xl;

    .zen-mode-editor-inner {
      @apply flex-1 !max-h-none overflow-y-auto;

      textarea {
        @apply flex-1;
        height: auto !important;
        min-height: 100% !important;

        // Mobile: add bottom padding for fixed action bar
        @media (max-width: 639px) {
          @apply pb-16;
        }
      }
    }

    // Bottom action bar
    > div:last-child {
      @apply shrink-0;

      // Mobile: fixed at bottom
      @media (max-width: 639px) {
        @apply fixed left-0 right-0 bg-white dark:bg-zinc-800 px-4 py-2 border-t border-zinc-200 dark:border-zinc-700;
        bottom: env(safe-area-inset-bottom, 0px);
      }
    }
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
